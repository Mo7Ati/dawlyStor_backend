import{c as D,j as n,r as i,F as ae,u as Ve}from"./app-S3itBYDW.js";import{H as We,S as qe}from"./layout-oZwK28Dm.js";import{B as K}from"./button-DPE4F_EZ.js";import{a as ze,b as Ge,c as Ke,C as Qe,d as Je}from"./card-BqzOlO1a.js";import{c as Xe}from"./index-BlXTej0l.js";import{c as Q,f as Y,u as Ze}from"./index-C5-I_EAv.js";import{a as Ue,E as Ye}from"./eye-CV1cS_eY.js";import{I as et}from"./input-error-BETFQmZB.js";import{a as tt,b as rt,g as nt,e as ot,f as st}from"./dialog-ynUsGoc9.js";import{S as je}from"./spinner-DdvX8sSO.js";import{C as lt}from"./check-BJzJP6n9.js";import{B as Se}from"./badge-tiqF1y16.js";import{A as at}from"./app-layout-C-RdLi66.js";/* empty css            */import"./separator-yB9yIXQz.js";import"./index-Da4wmfoi.js";import"./index-CV7o8P2n.js";import"./index-u4-USJQ4.js";import"./Combination-CHz_LPlM.js";import"./index-C5Yxx92r.js";import"./x-BBylIF2f.js";import"./loader-circle-Bh5MwUbN.js";import"./index-ATMouh2V.js";import"./dropdown-menu-B7_KaN1P.js";import"./index-C7VYWa53.js";import"./language-switch-MkjWbs0j.js";const it=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ct=Q("CircleAlert",it);const ut=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],dt=Q("Copy",ut);const ft=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],pt=Q("LockKeyhole",ft);const mt=[["path",{d:"M5 12h14",key:"1ays0h"}]],ht=Q("Minus",mt);const xt=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vt=Q("RefreshCw",xt);const gt=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],yt=Q("ScanLine",gt);const bt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]],wt=Q("ShieldBan",bt);const jt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_e=Q("ShieldCheck",jt),St=Xe("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function _t(r){const e=D.c(10);let t,o,l;e[0]!==r?({className:t,variant:l,...o}=r,e[0]=r,e[1]=t,e[2]=o,e[3]=l):(t=e[1],o=e[2],l=e[3]);let s;e[4]!==t||e[5]!==l?(s=Y(St({variant:l}),t),e[4]=t,e[5]=l,e[6]=s):s=e[6];let a;return e[7]!==o||e[8]!==s?(a=n.jsx("div",{"data-slot":"alert",role:"alert",className:s,...o}),e[7]=o,e[8]=s,e[9]=a):a=e[9],a}function Ct(r){const e=D.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let l;e[3]!==t?(l=Y("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),e[3]=t,e[4]=l):l=e[4];let s;return e[5]!==o||e[6]!==l?(s=n.jsx("div",{"data-slot":"alert-title",className:l,...o}),e[5]=o,e[6]=l,e[7]=s):s=e[7],s}function Nt(r){const e=D.c(8);let t,o;e[0]!==r?({className:t,...o}=r,e[0]=r,e[1]=t,e[2]=o):(t=e[1],o=e[2]);let l;e[3]!==t?(l=Y("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),e[3]=t,e[4]=l):l=e[4];let s;return e[5]!==o||e[6]!==l?(s=n.jsx("div",{"data-slot":"alert-description",className:l,...o}),e[5]=o,e[6]=l,e[7]=s):s=e[7],s}function Ne(r){const e=D.c(8),{errors:t,title:o}=r;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=n.jsx(ct,{}),e[0]=l):l=e[0];const s=o||"Something went wrong.";let a;e[1]!==s?(a=n.jsx(Ct,{children:s}),e[1]=s,e[2]=a):a=e[2];let u;e[3]!==t?(u=n.jsx(Nt,{children:n.jsx("ul",{className:"list-inside list-disc text-sm",children:Array.from(new Set(t)).map(kt)})}),e[3]=t,e[4]=u):u=e[4];let c;return e[5]!==a||e[6]!==u?(c=n.jsxs(_t,{variant:"destructive",children:[l,a,u]}),e[5]=a,e[6]=u,e[7]=c):c=e[7],c}function kt(r,e){return n.jsx("li",{children:r},e)}function Et(r){const e=D.c(32),{recoveryCodesList:t,fetchRecoveryCodes:o,errors:l}=r,[s,a]=i.useState(!1),u=i.useRef(null),c=t.length>0&&s;let g;e[0]!==s||e[1]!==o||e[2]!==t.length?(g=async()=>{!s&&!t.length&&await o(),a(!s),s||setTimeout(()=>{u.current?.scrollIntoView({behavior:"smooth",block:"nearest"})})},e[0]=s,e[1]=o,e[2]=t.length,e[3]=g):g=e[3];const p=g;let y,m;e[4]!==o||e[5]!==t.length?(y=()=>{t.length||o()},m=[t.length,o],e[4]=o,e[5]=t.length,e[6]=y,e[7]=m):(y=e[6],m=e[7]),i.useEffect(y,m);const b=s?Ue:Ye;let v;e[8]===Symbol.for("react.memo_cache_sentinel")?(v=n.jsxs(ze,{children:[n.jsxs(Ge,{className:"flex gap-3",children:[n.jsx(pt,{className:"size-4","aria-hidden":"true"}),"2FA Recovery Codes"]}),n.jsx(Ke,{children:"Recovery codes let you regain access if you lose your 2FA device. Store them in a secure password manager."})]}),e[8]=v):v=e[8];let j;e[9]!==b?(j=n.jsx(b,{className:"size-4","aria-hidden":"true"}),e[9]=b,e[10]=j):j=e[10];const k=s?"Hide":"View";let f;e[11]!==s||e[12]!==j||e[13]!==k||e[14]!==p?(f=n.jsxs(K,{onClick:p,className:"w-fit","aria-expanded":s,"aria-controls":"recovery-codes-section",children:[j,k," Recovery Codes"]}),e[11]=s,e[12]=j,e[13]=k,e[14]=p,e[15]=f):f=e[15];let S;e[16]!==c||e[17]!==o?(S=c&&n.jsx(ae,{method:"post",action:"/two-factor/regenerate-recovery-codes",options:{preserveScroll:!0},onSuccess:o,children:Rt}),e[16]=c,e[17]=o,e[18]=S):S=e[18];let E;e[19]!==f||e[20]!==S?(E=n.jsxs("div",{className:"flex flex-col gap-3 select-none sm:flex-row sm:items-center sm:justify-between",children:[f,S]}),e[19]=f,e[20]=S,e[21]=E):E=e[21];const P=`relative overflow-hidden transition-all duration-300 ${s?"h-auto opacity-100":"h-0 opacity-0"}`,A=!s;let _;e[22]!==l||e[23]!==t?(_=n.jsx("div",{className:"mt-3 space-y-3",children:l?.length?n.jsx(Ne,{errors:l}):n.jsxs(n.Fragment,{children:[n.jsx("div",{ref:u,className:"grid gap-1 rounded-lg bg-muted p-4 font-mono text-sm",role:"list","aria-label":"Recovery codes",children:t.length?t.map(Mt):n.jsx("div",{className:"space-y-2","aria-label":"Loading recovery codes",children:Array.from({length:8},Tt)})}),n.jsx("div",{className:"text-xs text-muted-foreground select-none",children:n.jsxs("p",{id:"regenerate-warning",children:["Each recovery code can be used once to access your account and will be removed after use. If you need more, click"," ",n.jsx("span",{className:"font-bold",children:"Regenerate Codes"})," ","above."]})})]})}),e[22]=l,e[23]=t,e[24]=_):_=e[24];let C;e[25]!==P||e[26]!==A||e[27]!==_?(C=n.jsx("div",{id:"recovery-codes-section",className:P,"aria-hidden":A,children:_}),e[25]=P,e[26]=A,e[27]=_,e[28]=C):C=e[28];let T;return e[29]!==C||e[30]!==E?(T=n.jsxs(Qe,{children:[v,n.jsxs(Je,{children:[E,C]})]}),e[29]=C,e[30]=E,e[31]=T):T=e[31],T}function Tt(r,e){return n.jsx("div",{className:"h-4 animate-pulse rounded bg-muted-foreground/20","aria-hidden":"true"},e)}function Mt(r,e){return n.jsx("div",{role:"listitem",className:"select-text",children:r},e)}function Rt(r){const{processing:e}=r;return n.jsxs(K,{variant:"secondary",type:"submit",disabled:e,"aria-describedby":"regenerate-warning",children:[n.jsx(vt,{})," Regenerate Codes"]})}var Pt=Object.defineProperty,$t=Object.defineProperties,At=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,Ce=(r,e,t)=>e in r?Pt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ft=(r,e)=>{for(var t in e||(e={}))ke.call(e,t)&&Ce(r,t,e[t]);if(ie)for(var t of ie(e))Ee.call(e,t)&&Ce(r,t,e[t]);return r},Dt=(r,e)=>$t(r,At(e)),Ot=(r,e)=>{var t={};for(var o in r)ke.call(r,o)&&e.indexOf(o)<0&&(t[o]=r[o]);if(r!=null&&ie)for(var o of ie(r))e.indexOf(o)<0&&Ee.call(r,o)&&(t[o]=r[o]);return t};function It(r){let e=setTimeout(r,0),t=setTimeout(r,10),o=setTimeout(r,50);return[e,t,o]}function Bt(r){let e=i.useRef();return i.useEffect(()=>{e.current=r}),e.current}var Lt=18,Te=40,Ht=`${Te}px`,Vt=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Wt({containerRef:r,inputRef:e,pushPasswordManagerStrategy:t,isFocused:o}){let[l,s]=i.useState(!1),[a,u]=i.useState(!1),[c,g]=i.useState(!1),p=i.useMemo(()=>t==="none"?!1:(t==="increase-width"||t==="experimental-no-flickering")&&l&&a,[l,a,t]),y=i.useCallback(()=>{let m=r.current,b=e.current;if(!m||!b||c||t==="none")return;let v=m,j=v.getBoundingClientRect().left+v.offsetWidth,k=v.getBoundingClientRect().top+v.offsetHeight/2,f=j-Lt,S=k;document.querySelectorAll(Vt).length===0&&document.elementFromPoint(f,S)===m||(s(!0),g(!0))},[r,e,c,t]);return i.useEffect(()=>{let m=r.current;if(!m||t==="none")return;function b(){let j=window.innerWidth-m.getBoundingClientRect().right;u(j>=Te)}b();let v=setInterval(b,1e3);return()=>{clearInterval(v)}},[r,t]),i.useEffect(()=>{let m=o||document.activeElement===e.current;if(t==="none"||!m)return;let b=setTimeout(y,0),v=setTimeout(y,2e3),j=setTimeout(y,5e3),k=setTimeout(()=>{g(!0)},6e3);return()=>{clearTimeout(b),clearTimeout(v),clearTimeout(j),clearTimeout(k)}},[e,o,t,y]),{hasPWMBadge:l,willPushPWMBadge:p,PWM_BADGE_SPACE_WIDTH:Ht}}var Me=i.createContext({}),Re=i.forwardRef((r,e)=>{var t=r,{value:o,onChange:l,maxLength:s,textAlign:a="left",pattern:u,placeholder:c,inputMode:g="numeric",onComplete:p,pushPasswordManagerStrategy:y="increase-width",pasteTransformer:m,containerClassName:b,noScriptCSSFallback:v=qt,render:j,children:k}=t,f=Ot(t,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),S,E,P,A,_;let[C,T]=i.useState(typeof f.defaultValue=="string"?f.defaultValue:""),h=o??C,R=Bt(h),F=i.useCallback(d=>{l?.(d),T(d)},[l]),N=i.useMemo(()=>u?typeof u=="string"?new RegExp(u):u:null,[u]),w=i.useRef(null),B=i.useRef(null),I=i.useRef({value:h,onChange:F,isIOS:typeof window<"u"&&((E=(S=window?.CSS)==null?void 0:S.supports)==null?void 0:E.call(S,"-webkit-touch-callout","none"))}),$=i.useRef({prev:[(P=w.current)==null?void 0:P.selectionStart,(A=w.current)==null?void 0:A.selectionEnd,(_=w.current)==null?void 0:_.selectionDirection]});i.useImperativeHandle(e,()=>w.current,[]),i.useEffect(()=>{let d=w.current,x=B.current;if(!d||!x)return;I.current.value!==d.value&&I.current.onChange(d.value),$.current.prev=[d.selectionStart,d.selectionEnd,d.selectionDirection];function O(){if(document.activeElement!==d){ne(null),oe(null);return}let M=d.selectionStart,L=d.selectionEnd,le=d.selectionDirection,W=d.maxLength,X=d.value,q=$.current.prev,z=-1,G=-1,Z;if(X.length!==0&&M!==null&&L!==null){let Be=M===L,Le=M===X.length&&X.length<W;if(Be&&!Le){let U=M;if(U===0)z=0,G=1,Z="forward";else if(U===W)z=U-1,G=U,Z="backward";else if(W>1&&X.length>1){let de=0;if(q[0]!==null&&q[1]!==null){Z=U<q[1]?"backward":"forward";let He=q[0]===q[1]&&q[0]<W;Z==="backward"&&!He&&(de=-1)}z=de+U,G=de+U+1}}z!==-1&&G!==-1&&z!==G&&w.current.setSelectionRange(z,G,Z)}let be=z!==-1?z:M,we=G!==-1?G:L,Ie=Z??le;ne(be),oe(we),$.current.prev=[be,we,Ie]}if(document.addEventListener("selectionchange",O,{capture:!0}),O(),document.activeElement===d&&ce(!0),!document.getElementById("input-otp-style")){let M=document.createElement("style");if(M.id="input-otp-style",document.head.appendChild(M),M.sheet){let L="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";se(M.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),se(M.sheet,`[data-input-otp]:autofill { ${L} }`),se(M.sheet,`[data-input-otp]:-webkit-autofill { ${L} }`),se(M.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),se(M.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let H=()=>{x&&x.style.setProperty("--root-height",`${d.clientHeight}px`)};H();let V=new ResizeObserver(H);return V.observe(d),()=>{document.removeEventListener("selectionchange",O,{capture:!0}),V.disconnect()}},[]);let[me,he]=i.useState(!1),[re,ce]=i.useState(!1),[J,ne]=i.useState(null),[ee,oe]=i.useState(null);i.useEffect(()=>{It(()=>{var d,x,O,H;(d=w.current)==null||d.dispatchEvent(new Event("input"));let V=(x=w.current)==null?void 0:x.selectionStart,M=(O=w.current)==null?void 0:O.selectionEnd,L=(H=w.current)==null?void 0:H.selectionDirection;V!==null&&M!==null&&(ne(V),oe(M),$.current.prev=[V,M,L])})},[h,re]),i.useEffect(()=>{R!==void 0&&h!==R&&R.length<s&&h.length===s&&p?.(h)},[s,p,R,h]);let te=Wt({containerRef:B,inputRef:w,pushPasswordManagerStrategy:y,isFocused:re}),xe=i.useCallback(d=>{let x=d.currentTarget.value.slice(0,s);if(x.length>0&&N&&!N.test(x)){d.preventDefault();return}typeof R=="string"&&x.length<R.length&&document.dispatchEvent(new Event("selectionchange")),F(x)},[s,F,R,N]),ve=i.useCallback(()=>{var d;if(w.current){let x=Math.min(w.current.value.length,s-1),O=w.current.value.length;(d=w.current)==null||d.setSelectionRange(x,O),ne(x),oe(O)}ce(!0)},[s]),ge=i.useCallback(d=>{var x,O;let H=w.current;if(!m&&(!I.current.isIOS||!d.clipboardData||!H))return;let V=d.clipboardData.getData("text/plain"),M=m?m(V):V;d.preventDefault();let L=(x=w.current)==null?void 0:x.selectionStart,le=(O=w.current)==null?void 0:O.selectionEnd,W=(L!==le?h.slice(0,L)+M+h.slice(le):h.slice(0,L)+M+h.slice(L)).slice(0,s);if(W.length>0&&N&&!N.test(W))return;H.value=W,F(W);let X=Math.min(W.length,s-1),q=W.length;H.setSelectionRange(X,q),ne(X),oe(q)},[s,F,N,h]),Fe=i.useMemo(()=>({position:"relative",cursor:f.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[f.disabled]),ye=i.useMemo(()=>({position:"absolute",inset:0,width:te.willPushPWMBadge?`calc(100% + ${te.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:te.willPushPWMBadge?`inset(0 ${te.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:a,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[te.PWM_BADGE_SPACE_WIDTH,te.willPushPWMBadge,a]),De=i.useMemo(()=>i.createElement("input",Dt(Ft({autoComplete:f.autoComplete||"one-time-code"},f),{"data-input-otp":!0,"data-input-otp-placeholder-shown":h.length===0||void 0,"data-input-otp-mss":J,"data-input-otp-mse":ee,inputMode:g,pattern:N?.source,"aria-placeholder":c,style:ye,maxLength:s,value:h,ref:w,onPaste:d=>{var x;ge(d),(x=f.onPaste)==null||x.call(f,d)},onChange:xe,onMouseOver:d=>{var x;he(!0),(x=f.onMouseOver)==null||x.call(f,d)},onMouseLeave:d=>{var x;he(!1),(x=f.onMouseLeave)==null||x.call(f,d)},onFocus:d=>{var x;ve(),(x=f.onFocus)==null||x.call(f,d)},onBlur:d=>{var x;ce(!1),(x=f.onBlur)==null||x.call(f,d)}})),[xe,ve,ge,g,ye,s,ee,J,f,N?.source,h]),ue=i.useMemo(()=>({slots:Array.from({length:s}).map((d,x)=>{var O;let H=re&&J!==null&&ee!==null&&(J===ee&&x===J||x>=J&&x<ee),V=h[x]!==void 0?h[x]:null,M=h[0]!==void 0?null:(O=c?.[x])!=null?O:null;return{char:V,placeholderChar:M,isActive:H,hasFakeCaret:H&&V===null}}),isFocused:re,isHovering:!f.disabled&&me}),[re,me,s,ee,J,f.disabled,h]),Oe=i.useMemo(()=>j?j(ue):i.createElement(Me.Provider,{value:ue},k),[k,ue,j]);return i.createElement(i.Fragment,null,v!==null&&i.createElement("noscript",null,i.createElement("style",null,v)),i.createElement("div",{ref:B,"data-input-otp-container":!0,style:Fe,className:b},Oe,i.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},De)))});Re.displayName="Input";function se(r,e){try{r.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var qt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`,zt="^\\d+$";const Pe=i.forwardRef((r,e)=>{const t=D.c(13);let o,l,s;t[0]!==r?({className:o,containerClassName:l,...s}=r,t[0]=r,t[1]=o,t[2]=l,t[3]=s):(o=t[1],l=t[2],s=t[3]);let a;t[4]!==l?(a=Y("flex items-center gap-2 has-[:disabled]:opacity-50",l),t[4]=l,t[5]=a):a=t[5];let u;t[6]!==o?(u=Y("disabled:cursor-not-allowed",o),t[6]=o,t[7]=u):u=t[7];let c;return t[8]!==s||t[9]!==e||t[10]!==a||t[11]!==u?(c=n.jsx(Re,{ref:e,containerClassName:a,className:u,...s}),t[8]=s,t[9]=e,t[10]=a,t[11]=u,t[12]=c):c=t[12],c});Pe.displayName="InputOTP";const $e=i.forwardRef((r,e)=>{const t=D.c(9);let o,l;t[0]!==r?({className:o,...l}=r,t[0]=r,t[1]=o,t[2]=l):(o=t[1],l=t[2]);let s;t[3]!==o?(s=Y("flex items-center",o),t[3]=o,t[4]=s):s=t[4];let a;return t[5]!==l||t[6]!==e||t[7]!==s?(a=n.jsx("div",{ref:e,className:s,...l}),t[5]=l,t[6]=e,t[7]=s,t[8]=a):a=t[8],a});$e.displayName="InputOTPGroup";const Ae=i.forwardRef((r,e)=>{const t=D.c(15);let o,l,s;t[0]!==r?({index:l,className:o,...s}=r,t[0]=r,t[1]=o,t[2]=l,t[3]=s):(o=t[1],l=t[2],s=t[3]);const a=i.useContext(Me),{char:u,hasFakeCaret:c,isActive:g}=a.slots[l],p=g&&"z-10 ring-1 ring-ring";let y;t[4]!==o||t[5]!==p?(y=Y("relative flex h-9 w-9 items-center justify-center border-y border-e border-input text-sm shadow-sm transition-all first:rounded-s-md first:border-s last:rounded-e-md",p,o),t[4]=o,t[5]=p,t[6]=y):y=t[6];let m;t[7]!==c?(m=c&&n.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})}),t[7]=c,t[8]=m):m=t[8];let b;return t[9]!==u||t[10]!==s||t[11]!==e||t[12]!==y||t[13]!==m?(b=n.jsxs("div",{ref:e,className:y,...s,children:[u,m]}),t[9]=u,t[10]=s,t[11]=e,t[12]=y,t[13]=m,t[14]=b):b=t[14],b});Ae.displayName="InputOTPSlot";const Gt=i.forwardRef((r,e)=>{const t=D.c(6);let o;t[0]!==r?({...o}=r,t[0]=r,t[1]=o):o=t[1];let l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=n.jsx(ht,{}),t[2]=l):l=t[2];let s;return t[3]!==o||t[4]!==e?(s=n.jsx("div",{ref:e,role:"separator",...o,children:l}),t[3]=o,t[4]=e,t[5]=s):s=t[5],s});Gt.displayName="InputOTPSeparator";function Kt(){const r=D.c(3),[e,t]=i.useState(null);let o;r[0]===Symbol.for("react.memo_cache_sentinel")?(o=async a=>{if(!navigator?.clipboard)return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(a),t(a),!0}catch(u){return console.warn("Copy failed",u),t(null),!1}},r[0]=o):o=r[0];const l=o;let s;return r[1]!==e?(s=[e,l],r[1]=e,r[2]=s):s=r[2],s}const fe=6,pe=async r=>{const e=await fetch(r,{headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Failed to fetch: ${e.status}`);return e.json()},Qt=()=>{const r=D.c(14),[e,t]=i.useState(null),[o,l]=i.useState(null);let s;r[0]===Symbol.for("react.memo_cache_sentinel")?(s=[],r[0]=s):s=r[0];const[a,u]=i.useState(s);let c;r[1]===Symbol.for("react.memo_cache_sentinel")?(c=[],r[1]=c):c=r[1];const[g,p]=i.useState(c),y=e!==null&&o!==null;let m;r[2]===Symbol.for("react.memo_cache_sentinel")?(m=async()=>{try{const{svg:h}=await pe("/two-factor/qr-code");t(h)}catch{p(Jt),t(null)}},r[2]=m):m=r[2];const b=m;let v;r[3]===Symbol.for("react.memo_cache_sentinel")?(v=async()=>{try{const{secretKey:h}=await pe("/two-factor/secret-key");l(h)}catch{p(Xt),l(null)}},r[3]=v):v=r[3];const j=v;let k;r[4]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{p([])},r[4]=k):k=r[4];const f=k;let S;r[5]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{l(null),t(null),f()},r[5]=S):S=r[5];const E=S;let P;r[6]===Symbol.for("react.memo_cache_sentinel")?(P=async()=>{try{f();const h=await pe("/two-factor/recovery-codes");u(h)}catch{p(Zt),u([])}},r[6]=P):P=r[6];const A=P;let _;r[7]===Symbol.for("react.memo_cache_sentinel")?(_=async()=>{try{f(),await Promise.all([b(),j()])}catch{t(null),l(null)}},r[7]=_):_=r[7];const C=_;let T;return r[8]!==g||r[9]!==y||r[10]!==o||r[11]!==e||r[12]!==a?(T={qrCodeSvg:e,manualSetupKey:o,recoveryCodesList:a,hasSetupData:y,errors:g,clearErrors:f,clearSetupData:E,fetchQrCode:b,fetchSetupKey:j,fetchSetupData:C,fetchRecoveryCodes:A},r[8]=g,r[9]=y,r[10]=o,r[11]=e,r[12]=a,r[13]=T):T=r[13],T};function Jt(r){return[...r,"Failed to fetch QR code"]}function Xt(r){return[...r,"Failed to fetch a setup key"]}function Zt(r){return[...r,"Failed to fetch recovery codes"]}function Ut(){const r=D.c(2);let e;r[0]===Symbol.for("react.memo_cache_sentinel")?(e=n.jsx("div",{className:"absolute inset-0 grid grid-cols-5 opacity-50",children:Array.from({length:5},er)}),r[0]=e):e=r[0];let t;return r[1]===Symbol.for("react.memo_cache_sentinel")?(t=n.jsx("div",{className:"mb-3 rounded-full border border-border bg-card p-0.5 shadow-sm",children:n.jsxs("div",{className:"relative overflow-hidden rounded-full border border-border bg-muted p-2.5",children:[e,n.jsx("div",{className:"absolute inset-0 grid grid-rows-5 opacity-50",children:Array.from({length:5},Yt)}),n.jsx(yt,{className:"relative z-20 size-6 text-foreground"})]})}),r[1]=t):t=r[1],t}function Yt(r,e){return n.jsx("div",{className:"border-b border-border last:border-b-0"},`row-${e+1}`)}function er(r,e){return n.jsx("div",{className:"border-r border-border last:border-r-0"},`col-${e+1}`)}function tr(r){const e=D.c(8),{qrCodeSvg:t,manualSetupKey:o,buttonText:l,onNextStep:s,errors:a}=r,[u,c]=Kt(),g=u===o?lt:dt;let p;return e[0]!==g||e[1]!==l||e[2]!==c||e[3]!==a||e[4]!==o||e[5]!==s||e[6]!==t?(p=n.jsx(n.Fragment,{children:a?.length?n.jsx(Ne,{errors:a}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mx-auto flex max-w-md overflow-hidden",children:n.jsx("div",{className:"mx-auto aspect-square w-64 rounded-lg border border-border",children:n.jsx("div",{className:"z-10 flex h-full w-full items-center justify-center p-5",children:t?n.jsx("div",{dangerouslySetInnerHTML:{__html:t}}):n.jsx(je,{})})})}),n.jsx("div",{className:"flex w-full space-x-5",children:n.jsx(K,{className:"w-full",onClick:s,children:l})}),n.jsxs("div",{className:"relative flex w-full items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 top-1/2 h-px w-full bg-border"}),n.jsx("span",{className:"relative bg-card px-2 py-1",children:"or, enter the code manually"})]}),n.jsx("div",{className:"flex w-full space-x-2",children:n.jsx("div",{className:"flex w-full items-stretch overflow-hidden rounded-xl border border-border",children:o?n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"text",readOnly:!0,value:o,className:"h-full w-full bg-background p-3 text-foreground outline-none"}),n.jsx("button",{onClick:()=>c(o),className:"border-l border-border px-3 hover:bg-muted",children:n.jsx(g,{className:"w-4"})})]}):n.jsx("div",{className:"flex h-full w-full items-center justify-center bg-muted p-3",children:n.jsx(je,{})})})})]})}),e[0]=g,e[1]=l,e[2]=c,e[3]=a,e[4]=o,e[5]=s,e[6]=t,e[7]=p):p=e[7],p}function rr(r){const e=D.c(10),{onClose:t,onBack:o}=r,[l,s]=i.useState(""),a=i.useRef(null);let u,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{setTimeout(()=>{a.current?.querySelector("input")?.focus()},0)},c=[],e[0]=u,e[1]=c):(u=e[0],c=e[1]),i.useEffect(u,c);let g;e[2]!==t?(g=()=>t(),e[2]=t,e[3]=g):g=e[3];let p;e[4]!==l||e[5]!==o?(p=m=>{const{processing:b,errors:v}=m;return n.jsx(n.Fragment,{children:n.jsxs("div",{ref:a,className:"relative w-full space-y-3",children:[n.jsxs("div",{className:"flex w-full flex-col items-center space-y-3 py-2",children:[n.jsx(Pe,{id:"otp",name:"code",maxLength:fe,onChange:s,disabled:b,pattern:zt,children:n.jsx($e,{children:Array.from({length:fe},nr)})}),n.jsx(et,{message:v?.confirmTwoFactorAuthentication?.code})]}),n.jsxs("div",{className:"flex w-full space-x-5",children:[n.jsx(K,{type:"button",variant:"outline",className:"flex-1",onClick:o,disabled:b,children:"Back"}),n.jsx(K,{type:"submit",className:"flex-1",disabled:b||l.length<fe,children:"Confirm"})]})]})})},e[4]=l,e[5]=o,e[6]=p):p=e[6];let y;return e[7]!==g||e[8]!==p?(y=n.jsx(ae,{method:"post",action:"/two-factor/verify",onSuccess:g,resetOnError:!0,resetOnSuccess:!0,children:p}),e[7]=g,e[8]=p,e[9]=y):y=e[9],y}function nr(r,e){return n.jsx(Ae,{index:e},e)}function or(r){const e=D.c(43),{isOpen:t,onClose:o,requiresConfirmation:l,twoFactorEnabled:s,qrCodeSvg:a,manualSetupKey:u,clearSetupData:c,fetchSetupData:g,errors:p}=r,[y,m]=i.useState(!1);let b;e:{if(s){let $;e[0]===Symbol.for("react.memo_cache_sentinel")?($={title:"Two-Factor Authentication Enabled",description:"Two-factor authentication is now enabled. Scan the QR code or enter the setup key in your authenticator app.",buttonText:"Close"},e[0]=$):$=e[0],b=$;break e}if(y){let $;e[1]===Symbol.for("react.memo_cache_sentinel")?($={title:"Verify Authentication Code",description:"Enter the 6-digit code from your authenticator app",buttonText:"Continue"},e[1]=$):$=e[1],b=$;break e}let I;e[2]===Symbol.for("react.memo_cache_sentinel")?(I={title:"Enable Two-Factor Authentication",description:"To finish enabling two-factor authentication, scan the QR code or enter the setup key in your authenticator app",buttonText:"Continue"},e[2]=I):I=e[2],b=I}const v=b;let j;e[3]!==c||e[4]!==o||e[5]!==l?(j=()=>{if(l){m(!0);return}c(),o()},e[3]=c,e[4]=o,e[5]=l,e[6]=j):j=e[6];const k=j;let f;e[7]!==c||e[8]!==s?(f=()=>{m(!1),s&&c()},e[7]=c,e[8]=s,e[9]=f):f=e[9];const S=f;let E,P;e[10]!==g||e[11]!==t||e[12]!==a?(E=()=>{t&&!a&&g()},P=[t,a,g],e[10]=g,e[11]=t,e[12]=a,e[13]=E,e[14]=P):(E=e[13],P=e[14]),i.useEffect(E,P);let A;e[15]!==o||e[16]!==S?(A=()=>{S(),o()},e[15]=o,e[16]=S,e[17]=A):A=e[17];const _=A;let C;e[18]!==_?(C=I=>!I&&_(),e[18]=_,e[19]=C):C=e[19];let T;e[20]===Symbol.for("react.memo_cache_sentinel")?(T=n.jsx(Ut,{}),e[20]=T):T=e[20];let h;e[21]!==v.title?(h=n.jsx(tt,{children:v.title}),e[21]=v.title,e[22]=h):h=e[22];let R;e[23]!==v.description?(R=n.jsx(rt,{className:"text-center",children:v.description}),e[23]=v.description,e[24]=R):R=e[24];let F;e[25]!==R||e[26]!==h?(F=n.jsxs(nt,{className:"flex items-center justify-center",children:[T,h,R]}),e[25]=R,e[26]=h,e[27]=F):F=e[27];let N;e[28]!==p||e[29]!==k||e[30]!==u||e[31]!==v.buttonText||e[32]!==o||e[33]!==a||e[34]!==y?(N=n.jsx("div",{className:"flex flex-col items-center space-y-5",children:y?n.jsx(rr,{onClose:o,onBack:()=>m(!1)}):n.jsx(tr,{qrCodeSvg:a,manualSetupKey:u,buttonText:v.buttonText,onNextStep:k,errors:p})}),e[28]=p,e[29]=k,e[30]=u,e[31]=v.buttonText,e[32]=o,e[33]=a,e[34]=y,e[35]=N):N=e[35];let w;e[36]!==F||e[37]!==N?(w=n.jsxs(ot,{className:"sm:max-w-md",children:[F,N]}),e[36]=F,e[37]=N,e[38]=w):w=e[38];let B;return e[39]!==t||e[40]!==w||e[41]!==C?(B=n.jsx(st,{open:t,onOpenChange:C,children:w}),e[39]=t,e[40]=w,e[41]=C,e[42]=B):B=e[42],B}function Rr(r){const e=D.c(40),{requiresConfirmation:t,twoFactorEnabled:o}=r,l=t===void 0?!1:t,s=o===void 0?!1:o,{t:a}=Ze("settings"),{panel:u}=Ve().props;let c;e[0]!==a?(c=a("two_factor_auth.page_title"),e[0]=a,e[1]=c):c=e[1];const g=`/${u}/settings/two-factor`;let p;e[2]!==c||e[3]!==g?(p=[{title:c,href:g}],e[2]=c,e[3]=g,e[4]=p):p=e[4];const y=p,{qrCodeSvg:m,hasSetupData:b,manualSetupKey:v,clearSetupData:j,fetchSetupData:k,recoveryCodesList:f,fetchRecoveryCodes:S,errors:E}=Qt(),[P,A]=i.useState(!1);let _;e[5]!==a?(_=a("two_factor_auth.page_title"),e[5]=a,e[6]=_):_=e[6];let C;e[7]!==a?(C=a("two_factor_auth.heading_title"),e[7]=a,e[8]=C):C=e[8];let T;e[9]!==a?(T=a("two_factor_auth.heading_description"),e[9]=a,e[10]=T):T=e[10];let h;e[11]!==C||e[12]!==T?(h=n.jsx(We,{title:C,description:T}),e[11]=C,e[12]=T,e[13]=h):h=e[13];let R;e[14]!==E||e[15]!==S||e[16]!==b||e[17]!==u||e[18]!==f||e[19]!==a||e[20]!==s?(R=s?n.jsxs("div",{className:"flex flex-col items-start justify-start space-y-4",children:[n.jsx(Se,{variant:"default",children:a("two_factor_auth.enabled")}),n.jsx("p",{className:"text-muted-foreground",children:a("two_factor_auth.enabled_description")}),n.jsx(Et,{recoveryCodesList:f,fetchRecoveryCodes:S,errors:E}),n.jsx("div",{className:"relative inline",children:n.jsx(ae,{method:"post",action:`/${u}/settings/two-factor/disable`,children:I=>{const{processing:$}=I;return n.jsxs(K,{variant:"destructive",type:"submit",disabled:$,children:[n.jsx(wt,{})," ",a("two_factor_auth.disable_2fa")]})}})})]}):n.jsxs("div",{className:"flex flex-col items-start justify-start space-y-4",children:[n.jsx(Se,{variant:"destructive",children:a("two_factor_auth.disabled")}),n.jsx("p",{className:"text-muted-foreground",children:a("two_factor_auth.disabled_description")}),n.jsx("div",{children:b?n.jsxs(K,{onClick:()=>A(!0),children:[n.jsx(_e,{}),a("two_factor_auth.continue_setup")]}):n.jsx(ae,{method:"post",action:`/${u}/settings/two-factor/enable`,onSuccess:()=>A(!0),children:I=>{const{processing:$}=I;return n.jsxs(K,{type:"submit",disabled:$,children:[n.jsx(_e,{}),a("two_factor_auth.enable_2fa")]})}})})]}),e[14]=E,e[15]=S,e[16]=b,e[17]=u,e[18]=f,e[19]=a,e[20]=s,e[21]=R):R=e[21];let F;e[22]===Symbol.for("react.memo_cache_sentinel")?(F=()=>A(!1),e[22]=F):F=e[22];let N;e[23]!==j||e[24]!==E||e[25]!==k||e[26]!==v||e[27]!==m||e[28]!==l||e[29]!==P||e[30]!==s?(N=n.jsx(or,{isOpen:P,onClose:F,requiresConfirmation:l,twoFactorEnabled:s,qrCodeSvg:m,manualSetupKey:v,clearSetupData:j,fetchSetupData:k,errors:E}),e[23]=j,e[24]=E,e[25]=k,e[26]=v,e[27]=m,e[28]=l,e[29]=P,e[30]=s,e[31]=N):N=e[31];let w;e[32]!==R||e[33]!==N||e[34]!==h?(w=n.jsx(qe,{children:n.jsxs("div",{className:"space-y-6",children:[h,R,N]})}),e[32]=R,e[33]=N,e[34]=h,e[35]=w):w=e[35];let B;return e[36]!==y||e[37]!==w||e[38]!==_?(B=n.jsx(at,{breadcrumbs:y,title:_,children:w}),e[36]=y,e[37]=w,e[38]=_,e[39]=B):B=e[39],B}export{Rr as default};
